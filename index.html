<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>Online E-Card</title>
    <link rel="stylesheet" href="static/css/card.css">
    <link rel="stylesheet" href="static/css/css.css">
    <link rel="stylesheet" href="static/css/view.css">
</head>
<body>

<div class="navbar">
    <a href="/home" class="nav-link">Home</a>
    <a href="/about" class="nav-link">About</a>
    <a href="/view" class="nav-link">View</a>
    <a href="/create" class="nav-link">Create</a>
</div>

<div class="fullPage" id="main"></div>
<div class="fullPage" id="view"></div>

<script>
    function loadScript(src) {
        const script = document.createElement('script');
        script.src = src;
        script.async = false; // This ensures the script is executed in order
        document.head.appendChild(script); // You can also append to body if preferred
    }

    function loadPage(page, elementToReplace, pageScript) {
        fetch(page)
            .then(response => {
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                return response.text();
            })
            .then(html => {
                document.getElementById(elementToReplace).innerHTML = html;
                console.log("trying to load " + pageScript);
                if(pageScript) loadScript(pageScript);
            })
            .catch(error => {
                console.error('Error loading the card:', error);
            });
    }

    loadPage("templates/main.html", "main", "static/js/main.js");
    loadPage("templates/view.html", "view", "static/js/view.js");

</script>

<script src="static/js/js.js"></script>
<script src="static/js/ads.js"></script>
<script src="static/js/create.js"></script>

<script src="static/js/jquery-3.7.1.min.js"></script>
</body>
</html>
